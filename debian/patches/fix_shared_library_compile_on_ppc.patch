From fc88383be90cfeb15467c0e171a7546c3b6d10b0 Mon Sep 17 00:00:00 2001
From: zhsj <zsj950618@gmail.com>
Date: Fri, 16 Mar 2018 19:23:38 +0800
Subject: [PATCH] fix shared library compile on ppc

shared-ppc-objects is missed in $(SHARED4) target
---
 Makefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Makefile b/Makefile
index 7fbc42d0ed..66e7918c63 100644
--- a/Makefile
+++ b/Makefile
@@ -635,7 +635,7 @@ ifeq ($(HAVE_POWER8),1)
 shared_all_libobjects = $(shared_libobjects) $(shared-ppc-objects)
 endif
 $(SHARED4): $(shared_all_libobjects)
-	$(CXX) $(PLATFORM_SHARED_LDFLAGS)$(SHARED3) $(CXXFLAGS) $(PLATFORM_SHARED_CFLAGS) $(shared_libobjects) $(LDFLAGS) -o $@
+	$(CXX) $(PLATFORM_SHARED_LDFLAGS)$(SHARED3) $(CXXFLAGS) $(PLATFORM_SHARED_CFLAGS) $(shared_all_libobjects) $(LDFLAGS) -o $@
 
 endif  # PLATFORM_SHARED_EXT
 
